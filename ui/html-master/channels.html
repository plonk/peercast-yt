<!doctype html>
<html>
  <!-- InstanceBegin template="/Templates/peercast.dwt" codeOutsideHTMLIsLocked="false" -->
  <!-- InstanceBeginEditable name="title" -->
  <title>{#PeerCast on} {$servMgr.serverIP}:{$servMgr.serverPort}</title>
  <!-- InstanceEndEditable -->
  <!-- InstanceBeginEditable name="head" -->
  <!-- InstanceEndEditable -->
  <!-- InstanceBeginEditable name="content" -->
  <style>
   input, select { font-size: 12px }
   .channel-list { font-family: Verdana, sans-serif; font-size: 10px; }
   .channel-list tr { background-color: #FFECC4 }
   .channel-list th { font-size: 12px; text-decoration: underline }
   .channel-list td { text-align: center }
   .channel-list td.channel-description { text-align: left  }
   td.results { text-align: left }
   .link { color: blue }
   .em-link { color: blue; font-weight: bold }
   .container { background-color: white;
          width: 700px; margin-left: auto; margin-right: auto;
          border: solid 1px black; padding: 5px }
  </style>

  <table width="100%" class="channel-list">
    <tr>
      <td colspan="6" class="results">
        <b>Results:</b>
        {$servMgr.numExternalChannels} channels,
        {$servMgr.channelDirectory.totalListeners} listeners,
        {$servMgr.channelDirectory.totalRelays} relays. ({$servMgr.channelDirectory.lastUpdate})
      </td>
    </tr>
        <tr>
          <th>Rank</th><th style="width: 80px"><img src="images/small-icon.png"></th><th>Channel</th><th>Status</th><th>Bitrate</th><th>Type</th>
        </tr>

    {@loop servMgr.numExternalChannels}
    <tr>
      <td>
        {$loop.indexBaseOne}
      </td>
      <td>
        {@if loop.externalChannel.id}
        <a href="/pls/{$loop.externalChannel.id}?tip={$loop.externalChannel.tip}"><img src="images/play.png"></a>
        {@else}
        <img src="images/play_grey.png">
        {@end}
      </td>
      <td style="width: 600px" class="channel-description">
        <span style="font-weight: bold">
          {@if loop.externalChannel.url}
          <a class="link" href="{$loop.externalChannel.url}">{$loop.externalChannel.name}</a>
          {@else}
          {$loop.externalChannel.name}
          {@end}
        </span><br>
        <span>
          [{@if loop.externalChannel.genre}{$loop.externalChannel.genre} - {@end}{$loop.externalChannel.desc}]
        </span>
      </td>
      <td align=center nowrap>
        {$loop.externalChannel.numDirects}/{$loop.externalChannel.numRelays}<br>
        {@if loop.externalChannel.encodedName}
        <a href="{$loop.externalChannel.chatUrl}"><img alt="Chat" src="images/chat.png"></a>
        <a href="{$loop.externalChannel.statsUrl}"><img alt="Stats" src="images/graph.png"></a>
        {@end}
      </td>
      <td align=center nowrap>
        {$loop.externalChannel.bitrate} kb/s
      </td>
      <td align=center>
        {$loop.externalChannel.contentTypeStr}
      </td>
    </tr>
    {@end}
  </table>
  <!-- InstanceEndEditable -->
  <!-- InstanceEnd -->
</html>
