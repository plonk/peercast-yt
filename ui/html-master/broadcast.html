{^define LAYOUT layout.html}
{^define TITLE}
  {#_Broadcast_navbar} - {#PeerCast on} {^SERVER_NAME}
{^end}
{^define HEAD}
  <script src="js/httppush.js"></script>
  <script src="js/wmhttp.js"></script>
  <script>SERVER = "{$servMgr.serverIP}:{$servMgr.serverPort}";</script>
  <style>
    .table-panel { min-width: 320px }
    input[type=text], input:not([type]), input[type=url] { width: 100% }
  </style>
{^end}

<div style="margin-left: auto; margin-right: auto; text-align: left; display: inline-block; margin-bottom: 1em;">
  <ul>
    <li><a href="#external">{#External Source}</a></li>
    <li><a href="#httppush">{#HTTP Push Stream}</a></li>
    <li><a href="#wmhttp">{#Windows Media HTTP Push Stream}</a></li>
  </ul>
</div>

<br>
<a name="external"></a>
<form action="/admin" method="get">
  <input type="hidden" value="fetch" name="cmd">
  <table class="table-panel" align="center" border="0">
    <tbody>
      <tr align="middle">
        <td colspan="2"><b>{#External Source}</b></td></tr>
      <tr align="left">
        <td>{#URL (Required)}</td>
        <td><input name="url"></td></tr>
      <tr align="left">
        <td>{#Name}</td>
        <td><input name="name"></td></tr>
      <tr align="left">
        <td>{#Genre}</td>
        <td><input name="genre"></td></tr>
      <tr align="left">
        <td>{#Description}</td>
        <td><input name="desc"></td></tr>
      <tr align="left">
        <td>{#Contact}</td>
        <td><input name="contact" type="url"></td></tr>
      <tr align="left">
        <td>{#Bitrate (kb/s)}</td>
        <td><input name="bitrate"></td></tr>
      <tr align="left">
        <td>{#Type}</td>
        <td>
          <select name="type">
            <option value="UNKNOWN" selected>{#Unknown}</option>
            <option value="FLV">FLV</option>
            <option value="MKV">MKV</option>
            <option value="MP3">MP3</option>
            <option value="NSV">NSV</option>
            <option value="OGG">OGG</option>
            <option value="RAW">RAW</option>
            <option value="WMA">WMA</option>
            <option value="WMV">WMV</option>
            <option value="WEBM">WEBM</option>
            <option value="MP4">MP4</option>
          </select>
        </td>
      </tr>
      <tr align="left">
        <td>{#IP Version}</td>
        <td>
          <select name="ipv">
            <option value="4">IPv4</option>
            <option value="6">IPv6</option>
          </select>
        </td>
      </tr>
      <tr align="left">
        <td colspan="2" align="middle"><input type="submit" value="{#Create Relay}" name="stream"></td>
      </tr>
    </tbody>
  </table>
</form>

<br>
<a name="httppush"></a>
<table class="table-panel" align="center" border="0">
  <tbody>
    <tr align="middle">
      <td colspan="2"><b>{#HTTP Push Stream}</b></td></tr>
    <tr align="left">
      <td>{#Name}</td>
      <td><input id="name"></td></tr>
    <tr align="left">
      <td>{#Genre}</td>
      <td><input id="genre"></td></tr>
    <tr align="left">
      <td>{#Description}</td>
      <td><input id="desc"></td></tr>
    <tr align="left">
      <td>{#Contact}</td>
      <td><input id="url" type="url"></td></tr>
    <tr align="left">
      <td>{#Type}</td>
      <td>
        <select id="type">
          <option value="UNKNOWN" selected>{#Unknown}</option>
          <option value="FLV">FLV</option>
          <option value="MKV">MKV</option>
          <option value="MP3">MP3</option>
          <option value="NSV">NSV</option>
          <option value="OGG">OGG</option>
          <option value="RAW">RAW</option>
          <option value="WMA">WMA</option>
          <option value="WMV">WMV</option>
          <option value="WEBM">WEBM</option>
          <option value="MP4">MP4</option>
        </select>
      </td>
    </tr>
    <tr align="left">
      <td>{#IP Version}</td>
      <td>
        <select id="ipv">
          <option value="4">IPv4</option>
          <option value="6">IPv6</option>
        </select>
      </td>
    </tr>
    <tr align="middle">
      <td colspan="2"><b>{#Output URL for ffmpeg}</b></td></tr>
    <tr align="left">
      <td colspan="2" align="middle">
        <textarea id="output" style="width: 100%; min-height: 4em; font-family: monospace">
        </textarea>
      </td>
    </tr>
  </tbody>
</table>

<br>
<a name="wmhttp"></a>
<div style="min-height: 95vh">
  <table class="table-panel" align="center" border="0">
    <tbody>
      <tr align="middle">
        <td colspan="2"><b>{#Windows Media HTTP Push Stream}</b></td></tr>
      <tr align="left">
        <td>{#Name}</td>
        <td><input id="wm_name"></td></tr>
      <tr align="left">
        <td>{#Genre}</td>
        <td><input id="wm_genre"></td></tr>
      <tr align="left">
        <td>{#Description}</td>
        <td><input id="wm_desc"></td></tr>
      <tr align="left">
        <td>{#Contact}</td>
        <td><input id="wm_url" type="url"></td>
      </tr>
      <tr align="middle">
        <td colspan="2"><b>{#Encoder Settings}</b></td></tr>
      <tr align="left">
        <td>{#Server Name}</td>
        <td><input id="wm_output_server_name" type="text"></td>
      </tr>
      <tr align="left">
        <td>{#Publishing Point}</td>
        <td>
          <textarea id="wm_output_publishing_point" style="width: 100%; min-height: 4em; font-family: monospace">
          </textarea>
        </td>
      </tr>
      <tr align="left">
        <td>{#URL}</td>
        <td>
          <textarea id="wm_output_url" style="width: 100%; min-height: 4em; font-family: monospace">
          </textarea>
        </td>
      </tr>
    </tbody>
  </table>
</div>
